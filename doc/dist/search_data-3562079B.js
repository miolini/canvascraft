searchData={"items":[{"type":"module","title":"CanvasCraft","doc":"CanvasCraft - 2D graphics drawing library facade.\n\nThis module delegates drawing operations to a pluggable backend.\nThe canvas handle is represented as `{backend_module, backend_ref}`.\n\nExamples:\n- In-memory WEBP export (no temp files):\n    iex> {:ok, handle} = CanvasCraft.create_canvas(16, 16, backend: CanvasCraft.Backends.Reference)\n    iex> {:ok, bin} = CanvasCraft.export_webp(handle)\n    iex> is_binary(bin)\n    true\n\nSee `guides/examples/` for runnable scripts demonstrating gradients, filters, images, and in-memory export.","ref":"CanvasCraft.html"},{"type":"type","title":"CanvasCraft.canvas_handle/0","doc":"Backend-qualified canvas handle","ref":"CanvasCraft.html#t:canvas_handle/0"},{"type":"function","title":"CanvasCraft.capabilities/1","doc":"Return capabilities supported by the selected backend","ref":"CanvasCraft.html#capabilities/1"},{"type":"function","title":"CanvasCraft.clear/2","doc":"Clear the canvas to a given RGBA color (tuple {r,g,b,a}, 0..255).\nNo-op for backends that don't support it yet.","ref":"CanvasCraft.html#clear/2"},{"type":"function","title":"CanvasCraft.create_canvas/3","doc":"Create a new canvas using the selected backend.\n\nOptions:\n- :backend - backend module (default: CanvasCraft.Backends.Skia)\n- other backend-specific options","ref":"CanvasCraft.html#create_canvas/3"},{"type":"function","title":"CanvasCraft.export_png/2","doc":"Export the canvas using backend. Defaults to PNG; if opts[:format] == :webp\nand the backend implements export_webp/2, that path is used.","ref":"CanvasCraft.html#export_png/2"},{"type":"function","title":"CanvasCraft.export_png_to_file/3","doc":"Export PNG and write to file path (helper).","ref":"CanvasCraft.html#export_png_to_file/3"},{"type":"function","title":"CanvasCraft.export_raw/1","doc":"Export the raw RGBA buffer from the backend, if supported.","ref":"CanvasCraft.html#export_raw/1"},{"type":"function","title":"CanvasCraft.export_webp/2","doc":"Export the canvas as WEBP binary using backend, no filesystem involved.","ref":"CanvasCraft.html#export_webp/2"},{"type":"function","title":"CanvasCraft.export_webp_to_file/3","doc":"Export WEBP and write to file path (helper).","ref":"CanvasCraft.html#export_webp_to_file/3"},{"type":"function","title":"CanvasCraft.fill_circle/5","doc":"Fill a circle with a color.","ref":"CanvasCraft.html#fill_circle/5"},{"type":"function","title":"CanvasCraft.fill_rect/5","doc":"Fill an axis-aligned rectangle.\nNo-op for backends that don't support it yet; implemented later.","ref":"CanvasCraft.html#fill_rect/5"},{"type":"function","title":"CanvasCraft.fill_rect/6","doc":"Fill an axis-aligned rectangle with a color.","ref":"CanvasCraft.html#fill_rect/6"},{"type":"function","title":"CanvasCraft.hello/0","doc":"Return a simple atom for smoke tests.","ref":"CanvasCraft.html#hello/0"},{"type":"function","title":"CanvasCraft.set_antialias/2","doc":"Enable/disable antialiasing or set sample count (1,4,8).","ref":"CanvasCraft.html#set_antialias/2"},{"type":"function","title":"CanvasCraft.supports?/2","doc":"Return true if backend supports the given feature","ref":"CanvasCraft.html#supports?/2"},{"type":"function","title":"CanvasCraft.write_binary/2","doc":"Write a binary returned from export_* to a file path (thin helper).","ref":"CanvasCraft.html#write_binary/2"},{"type":"module","title":"CanvasCraft.Backends.Reference","doc":"Minimal in-memory reference backend to validate the renderer behaviour contract and allow examples to run without the Skia NIF.\n\nProduces deterministic WEBP/PNG-like binaries (mocked) and accepts drawing calls as no-ops.","ref":"CanvasCraft.Backends.Reference.html"},{"type":"module","title":"CanvasCraft.Backends.Skia","doc":"Skia backend module.\n\nSelect by passing `backend: Elixir.CanvasCraft.Backends.Skia` to `CanvasCraft.create_canvas/3`.\nDelegates to NIFs declared in `CanvasCraft.Native.Skia` when available.","ref":"CanvasCraft.Backends.Skia.html"},{"type":"function","title":"CanvasCraft.Backends.Skia.fill_circle/5","doc":"","ref":"CanvasCraft.Backends.Skia.html#fill_circle/5"},{"type":"function","title":"CanvasCraft.Backends.Skia.fill_rect/6","doc":"","ref":"CanvasCraft.Backends.Skia.html#fill_rect/6"},{"type":"function","title":"CanvasCraft.Backends.Skia.set_antialias/2","doc":"","ref":"CanvasCraft.Backends.Skia.html#set_antialias/2"},{"type":"module","title":"CanvasCraft.Capabilities","doc":"Capability and enums/typespecs for CanvasCraft primitive families and options.","ref":"CanvasCraft.Capabilities.html"},{"type":"type","title":"CanvasCraft.Capabilities.blend_mode/0","doc":"Blend modes","ref":"CanvasCraft.Capabilities.html#t:blend_mode/0"},{"type":"type","title":"CanvasCraft.Capabilities.clip_mode/0","doc":"Clip operation mode","ref":"CanvasCraft.Capabilities.html#t:clip_mode/0"},{"type":"type","title":"CanvasCraft.Capabilities.feature/0","doc":"Feature atoms for capability discovery","ref":"CanvasCraft.Capabilities.html#t:feature/0"},{"type":"type","title":"CanvasCraft.Capabilities.gradient_stop/0","doc":"Gradient stop: {offset 0..1, {r,g,b,a}}","ref":"CanvasCraft.Capabilities.html#t:gradient_stop/0"},{"type":"type","title":"CanvasCraft.Capabilities.line_cap/0","doc":"Line cap style","ref":"CanvasCraft.Capabilities.html#t:line_cap/0"},{"type":"type","title":"CanvasCraft.Capabilities.line_join/0","doc":"Line join style","ref":"CanvasCraft.Capabilities.html#t:line_join/0"},{"type":"function","title":"CanvasCraft.Capabilities.features/0","doc":"All known features","ref":"CanvasCraft.Capabilities.html#features/0"},{"type":"function","title":"CanvasCraft.Capabilities.supports?/2","doc":"Return true if backend supports feature (based on capabilities/0)","ref":"CanvasCraft.Capabilities.html#supports?/2"},{"type":"module","title":"CanvasCraft.Font","doc":"Font loader utility for CanvasCraft.\nLoads fonts from priv/fonts, with fallback to DejaVuSans.ttf.","ref":"CanvasCraft.Font.html"},{"type":"function","title":"CanvasCraft.Font.default/0","doc":"Return default font binary.","ref":"CanvasCraft.Font.html#default/0"},{"type":"function","title":"CanvasCraft.Font.load/1","doc":"Load a font by name from priv/fonts, fallback to default if missing.","ref":"CanvasCraft.Font.html#load/1"},{"type":"function","title":"CanvasCraft.Font.test_font!/0","doc":"Return absolute path to the test/default font, raising if missing.","ref":"CanvasCraft.Font.html#test_font!/0"},{"type":"behaviour","title":"CanvasCraft.Renderer","doc":"Behaviour defining the backend-agnostic rendering contract for CanvasCraft.","ref":"CanvasCraft.Renderer.html"},{"type":"behaviour","title":"Example - CanvasCraft.Renderer","doc":"iex> defmodule MyBackend do\n    ...>   @behaviour CanvasCraft.Renderer\n    ...>   def new_surface(w, h, _opts), do: {:ok, {w, h}}\n    ...>   def export_webp({_w, _h}, _opts), do: {:ok, <<1,2,3>>}\n    ...>   def capabilities, do: MapSet.new([:images])\n    ...> end\n    iex> {:ok, surf} = MyBackend.new_surface(10, 10, [])\n    iex> {:ok, bin} = MyBackend.export_webp(surf, [])\n    iex> is_binary(bin)\n    true\n\nBackends implement these callbacks; the facade delegates to them.\n\nThis minimal contract supports:\n- Creating a surface of given width/height\n- Exporting to PNG/WEBP encodings\n- Exporting the raw RGBA buffer (stride-aligned)\n\nExpanded primitive families and capability discovery:\n- Images (load/draw, sampling)\n- Gradients & shaders\n- Color/image filters\n- Blending (blend modes) and save layers\n- Clipping (rect/path)\n- Shapes (round rect, oval/circle, arc)\n- Path effects (e.g., dash)","ref":"CanvasCraft.Renderer.html#module-example"},{"type":"type","title":"CanvasCraft.Renderer.feature/0","doc":"Feature atoms for capability discovery","ref":"CanvasCraft.Renderer.html#t:feature/0"},{"type":"type","title":"CanvasCraft.Renderer.height/0","doc":"Canvas height in pixels","ref":"CanvasCraft.Renderer.html#t:height/0"},{"type":"type","title":"CanvasCraft.Renderer.raw_export/0","doc":"Raw export tuple: {width, height, stride, rgba_binary}","ref":"CanvasCraft.Renderer.html#t:raw_export/0"},{"type":"type","title":"CanvasCraft.Renderer.stride/0","doc":"Bytes per row in the raw RGBA buffer (>= width*4)","ref":"CanvasCraft.Renderer.html#t:stride/0"},{"type":"type","title":"CanvasCraft.Renderer.surface/0","doc":"Opaque backend surface handle","ref":"CanvasCraft.Renderer.html#t:surface/0"},{"type":"type","title":"CanvasCraft.Renderer.width/0","doc":"Canvas width in pixels","ref":"CanvasCraft.Renderer.html#t:width/0"},{"type":"callback","title":"CanvasCraft.Renderer.capabilities/0","doc":"Capability discovery: return a set of supported features.","ref":"CanvasCraft.Renderer.html#c:capabilities/0"},{"type":"callback","title":"CanvasCraft.Renderer.clip_rect/6","doc":"","ref":"CanvasCraft.Renderer.html#c:clip_rect/6"},{"type":"callback","title":"CanvasCraft.Renderer.draw_arc/6","doc":"","ref":"CanvasCraft.Renderer.html#c:draw_arc/6"},{"type":"callback","title":"CanvasCraft.Renderer.draw_image/5","doc":"","ref":"CanvasCraft.Renderer.html#c:draw_image/5"},{"type":"callback","title":"CanvasCraft.Renderer.draw_oval/5","doc":"","ref":"CanvasCraft.Renderer.html#c:draw_oval/5"},{"type":"callback","title":"CanvasCraft.Renderer.draw_round_rect/7","doc":"","ref":"CanvasCraft.Renderer.html#c:draw_round_rect/7"},{"type":"callback","title":"CanvasCraft.Renderer.export_png/2","doc":"Export the current surface as a PNG (or PNG-like) binary.","ref":"CanvasCraft.Renderer.html#c:export_png/2"},{"type":"callback","title":"CanvasCraft.Renderer.export_raw/1","doc":"Export the raw RGBA buffer from the surface.\n\nReturns {width, height, stride, rgba_binary} where rgba_binary is\n8-bit per channel, premultiplied or straight depending on backend.","ref":"CanvasCraft.Renderer.html#c:export_raw/1"},{"type":"callback","title":"CanvasCraft.Renderer.export_webp/2","doc":"Export the current surface as a WEBP (or WEBP-like) binary.","ref":"CanvasCraft.Renderer.html#c:export_webp/2"},{"type":"callback","title":"CanvasCraft.Renderer.load_image_from_binary/2","doc":"","ref":"CanvasCraft.Renderer.html#c:load_image_from_binary/2"},{"type":"callback","title":"CanvasCraft.Renderer.load_image_from_path/2","doc":"","ref":"CanvasCraft.Renderer.html#c:load_image_from_path/2"},{"type":"callback","title":"CanvasCraft.Renderer.new_surface/3","doc":"Create a new drawing surface.\n\nExpected to allocate any necessary backend resources to draw into a\nwidth×height canvas. Options are backend-specific.","ref":"CanvasCraft.Renderer.html#c:new_surface/3"},{"type":"callback","title":"CanvasCraft.Renderer.save_layer/2","doc":"","ref":"CanvasCraft.Renderer.html#c:save_layer/2"},{"type":"callback","title":"CanvasCraft.Renderer.set_blend_mode/2","doc":"","ref":"CanvasCraft.Renderer.html#c:set_blend_mode/2"},{"type":"callback","title":"CanvasCraft.Renderer.set_color_filter/2","doc":"","ref":"CanvasCraft.Renderer.html#c:set_color_filter/2"},{"type":"callback","title":"CanvasCraft.Renderer.set_image_filter/2","doc":"","ref":"CanvasCraft.Renderer.html#c:set_image_filter/2"},{"type":"callback","title":"CanvasCraft.Renderer.set_linear_gradient/6","doc":"","ref":"CanvasCraft.Renderer.html#c:set_linear_gradient/6"},{"type":"callback","title":"CanvasCraft.Renderer.set_path_effect/2","doc":"","ref":"CanvasCraft.Renderer.html#c:set_path_effect/2"},{"type":"callback","title":"CanvasCraft.Renderer.set_radial_gradient/5","doc":"","ref":"CanvasCraft.Renderer.html#c:set_radial_gradient/5"},{"type":"module","title":"CanvasCraft.Scene","doc":"Declarative DSL for building CanvasCraft scenes.\n\nExample:\n    import CanvasCraft.Scene\n    render width: 1920, height: 1080, backend: CanvasCraft.Backends.Skia, path: \"out.webp\" do\n      aa 8\n      clear {30,34,40,255}\n      rect 60, 60, 1800, 960, {42,46,54,255}\n      circle 300, 260, 110, {35,132,252,255}\n    end\n\nAll commands are expanded to `CanvasCraft` API calls against an internal `handle`.","ref":"CanvasCraft.Scene.html"},{"type":"macro","title":"CanvasCraft.Scene.aa/1","doc":"","ref":"CanvasCraft.Scene.html#aa/1"},{"type":"macro","title":"CanvasCraft.Scene.candle_chart/1","doc":"","ref":"CanvasCraft.Scene.html#candle_chart/1"},{"type":"macro","title":"CanvasCraft.Scene.candle_chart/5","doc":"","ref":"CanvasCraft.Scene.html#candle_chart/5"},{"type":"macro","title":"CanvasCraft.Scene.candle_chart/7","doc":"","ref":"CanvasCraft.Scene.html#candle_chart/7"},{"type":"macro","title":"CanvasCraft.Scene.circle/1","doc":"","ref":"CanvasCraft.Scene.html#circle/1"},{"type":"macro","title":"CanvasCraft.Scene.circle/4","doc":"","ref":"CanvasCraft.Scene.html#circle/4"},{"type":"macro","title":"CanvasCraft.Scene.circle/5","doc":"","ref":"CanvasCraft.Scene.html#circle/5"},{"type":"macro","title":"CanvasCraft.Scene.clear/1","doc":"","ref":"CanvasCraft.Scene.html#clear/1"},{"type":"macro","title":"CanvasCraft.Scene.donut_segment/1","doc":"","ref":"CanvasCraft.Scene.html#donut_segment/1"},{"type":"macro","title":"CanvasCraft.Scene.donut_segment/7","doc":"","ref":"CanvasCraft.Scene.html#donut_segment/7"},{"type":"macro","title":"CanvasCraft.Scene.donut_segment/8","doc":"","ref":"CanvasCraft.Scene.html#donut_segment/8"},{"type":"macro","title":"CanvasCraft.Scene.grid/1","doc":"","ref":"CanvasCraft.Scene.html#grid/1"},{"type":"macro","title":"CanvasCraft.Scene.grid/6","doc":"","ref":"CanvasCraft.Scene.html#grid/6"},{"type":"macro","title":"CanvasCraft.Scene.grid/7","doc":"","ref":"CanvasCraft.Scene.html#grid/7"},{"type":"macro","title":"CanvasCraft.Scene.line_chart/1","doc":"","ref":"CanvasCraft.Scene.html#line_chart/1"},{"type":"macro","title":"CanvasCraft.Scene.line_chart/5","doc":"","ref":"CanvasCraft.Scene.html#line_chart/5"},{"type":"macro","title":"CanvasCraft.Scene.line_chart/6","doc":"","ref":"CanvasCraft.Scene.html#line_chart/6"},{"type":"macro","title":"CanvasCraft.Scene.panel/1","doc":"","ref":"CanvasCraft.Scene.html#panel/1"},{"type":"macro","title":"CanvasCraft.Scene.panel/5","doc":"","ref":"CanvasCraft.Scene.html#panel/5"},{"type":"macro","title":"CanvasCraft.Scene.panel/6","doc":"","ref":"CanvasCraft.Scene.html#panel/6"},{"type":"macro","title":"CanvasCraft.Scene.progress_bar/1","doc":"","ref":"CanvasCraft.Scene.html#progress_bar/1"},{"type":"macro","title":"CanvasCraft.Scene.progress_bar/5","doc":"","ref":"CanvasCraft.Scene.html#progress_bar/5"},{"type":"macro","title":"CanvasCraft.Scene.progress_bar/6","doc":"","ref":"CanvasCraft.Scene.html#progress_bar/6"},{"type":"macro","title":"CanvasCraft.Scene.rect/1","doc":"","ref":"CanvasCraft.Scene.html#rect/1"},{"type":"macro","title":"CanvasCraft.Scene.rect/5","doc":"","ref":"CanvasCraft.Scene.html#rect/5"},{"type":"macro","title":"CanvasCraft.Scene.rect/6","doc":"","ref":"CanvasCraft.Scene.html#rect/6"},{"type":"macro","title":"CanvasCraft.Scene.render/2","doc":"","ref":"CanvasCraft.Scene.html#render/2"},{"type":"macro","title":"CanvasCraft.Scene.scatter/1","doc":"","ref":"CanvasCraft.Scene.html#scatter/1"},{"type":"macro","title":"CanvasCraft.Scene.scatter/6","doc":"","ref":"CanvasCraft.Scene.html#scatter/6"},{"type":"macro","title":"CanvasCraft.Scene.text_bar/1","doc":"","ref":"CanvasCraft.Scene.html#text_bar/1"},{"type":"macro","title":"CanvasCraft.Scene.text_bar/4","doc":"","ref":"CanvasCraft.Scene.html#text_bar/4"},{"type":"macro","title":"CanvasCraft.Scene.text_bar/5","doc":"","ref":"CanvasCraft.Scene.html#text_bar/5"},{"type":"extras","title":"CanvasCraft","doc":"# CanvasCraft\n\nIn-memory 2D rendering with a Skia backend (via Rustler). Declarative DSL for building charts and UI-like scenes, plus a pure-Elixir reference backend for tests and CI.","ref":"readme.html"},{"type":"extras","title":"Requirements - CanvasCraft","doc":"- Elixir >= 1.16, OTP >= 26\n- Rust toolchain (for the Skia NIF)\n- To use the Skia backend, run with environment variable `CANVAS_CRAFT_ENABLE_NIF=1`","ref":"readme.html#requirements"},{"type":"extras","title":"Quickstart (Reference backend, no native build) - CanvasCraft","doc":"```elixir\n{:ok, handle} = CanvasCraft.create_canvas(128, 128, backend: CanvasCraft.Backends.Reference)\n:ok = CanvasCraft.clear(handle, {255, 255, 255, 255})\n:ok = CanvasCraft.fill_rect(handle, 16, 16, 96, 96, {0, 128, 255, 255})\n{:ok, webp} = CanvasCraft.export_webp(handle)\nFile.write!(\"out.webp\", webp)\n```","ref":"readme.html#quickstart-reference-backend-no-native-build"},{"type":"extras","title":"Quickstart (Skia backend, real WEBP, in-memory) - CanvasCraft","doc":"- Ensure Rust toolchain is installed.\n- Run with `CANVAS_CRAFT_ENABLE_NIF=1` to enable the Skia NIF at runtime.\n\n```elixir\n{:ok, handle} = CanvasCraft.create_canvas(256, 256) # defaults to Skia backend\n:ok = CanvasCraft.set_antialias(handle, 4)\n:ok = CanvasCraft.fill_circle(handle, 128, 128, 80, {30, 180, 90, 255})\n{:ok, bin} = CanvasCraft.export_webp(handle)\nFile.write!(\"circle.webp\", bin)\n```\n\nzsh one-liner to render an example with Skia:\n\n```sh\nenv CANVAS_CRAFT_ENABLE_NIF=1 mix run -e 'File.write!(\"/tmp/kitchen.webp\", (KitchenSink.render(\"/tmp/kitchen.webp\") && File.read!(\"/tmp/kitchen.webp\")))'\n```","ref":"readme.html#quickstart-skia-backend-real-webp-in-memory"},{"type":"extras","title":"Declarative DSL - CanvasCraft","doc":"See `lib/canvas_craft/scene.ex` for the Scene DSL. The examples in `examples/kitchensink` showcase:\n- named properties (e.g., `rect x: 10, y: 10, w: 100, h: 40, color: {…}`)\n- per-element antialiasing via `aa: 1|4|8`\n- composites (grid, line_chart, candle_chart, donut_segment, progress_bar, scatter, text_bar)","ref":"readme.html#declarative-dsl"},{"type":"extras","title":"Examples - CanvasCraft","doc":"- `examples/earth_planet` – minimal scene\n- `examples/kitchensink` – 1080p dashboard using the DSL\n\nRun an example (Skia):\n\n```sh\ncd examples/kitchensink\nenv CANVAS_CRAFT_ENABLE_NIF=1 mix run -e 'KitchenSink.render(\"kitchen_1080p.webp\")'\nfile kitchen_1080p.webp # should report RIFF WebP\n```","ref":"readme.html#examples"},{"type":"extras","title":"In-Memory Workflow - CanvasCraft","doc":"All exports return binaries so you can decide how/where to persist:\n\n```elixir\n{:ok, handle} = CanvasCraft.create_canvas(1920, 1080)\n{:ok, webp} = CanvasCraft.export_webp(handle)\n# stream to HTTP response or save to disk\n:ok = File.write(\"dashboard.webp\", webp)\n```","ref":"readme.html#in-memory-workflow"},{"type":"extras","title":"CI - CanvasCraft","doc":"- CI runs format, Credo, Dialyzer, tests, and a non-blocking benchmark step that emits warnings if regressions are detected.\n- Skia NIF is not required for CI and is disabled by default there.","ref":"readme.html#ci"},{"type":"extras","title":"License - CanvasCraft","doc":"MIT","ref":"readme.html#license"},{"type":"extras","title":"Changelog","doc":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on Keep a Changelog and this project adheres to Semantic Versioning.\n\n## [0.1.0] - 2025-09-28","ref":"changelog.html"},{"type":"extras","title":"Added - Changelog","doc":"- Minimal, fully working Skia backend via Rustler NIF producing real WEBP binaries (in-memory, zero-FS path).\n- Public API facade (`CanvasCraft`) with `create_canvas/2-3`, `export_webp/1-2`, and `export_raw/1`.\n- Declarative DSL (`CanvasCraft.Scene`) with positional and named properties, including per-element antialiasing.\n- Shapes and primitives: clear, rect, circle, panel, donut segment, grid, scatter, progress bar.\n- Chart helpers: line chart and candle chart; text helpers: `text_bar`.\n- Capability discovery (`CanvasCraft.Capabilities`).\n- Reference backend for fast tests and benchmarks.\n- Examples: `earth_planet` and `kitchensink` (1080p dashboard) using the declarative DSL.\n- Benchmarks for draw ops, images/filters, and in-memory encoding.","ref":"changelog.html#added"},{"type":"extras","title":"Changed - Changelog","doc":"- CI runs formatting, Credo, Dialyzer, tests, and non-blocking benchmarks.","ref":"changelog.html#changed"},{"type":"extras","title":"Notes - Changelog","doc":"- Enable the Skia NIF by setting environment variable `CANVAS_CRAFT_ENABLE_NIF=1` when running examples or your code.\n- Requires Rust toolchain for building the NIF.","ref":"changelog.html#notes"}],"proglang":"elixir","content_type":"text/markdown","producer":{"name":"ex_doc","version":"0.38.4"}}